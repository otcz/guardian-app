/* Organization Audit Component Styles - paleta coherente */
:host { display:block; padding:1rem clamp(.75rem, 2vw, 1.25rem); }

.org-toolbar { display:flex; flex-wrap:wrap; align-items:center; gap:.75rem; margin-bottom:1rem; }
.org-toolbar h2 { margin:0; font-size:1.15rem; font-weight:600; letter-spacing:.5px; line-height:1.25; }
.org-toolbar .spacer { flex:1 1 auto; }

.audit-card ::ng-deep .p-card { background:var(--surface-alt); border:1px solid rgba(255,255,255,.07); }

.audit-tools { display:flex; flex-wrap:wrap; align-items:center; gap:.6rem; margin-bottom:1rem; font-size:.74rem; }
.audit-tools label { font-size:.65rem; letter-spacing:.55px; }
.audit-tools input { width:200px; }

/* Tabla */
.audit-table.p-datatable-sm th { font-size:.66rem; letter-spacing:.55px; text-transform:uppercase; opacity:.65; }
.audit-table.p-datatable-sm td { font-size:.76rem; line-height:1.3; }
.audit-table .timestamp { font-size:.7rem; }
.audit-table .detalle { font-size:.76rem; white-space:pre-wrap; }

.audit-empty { text-align:center; padding:1rem; opacity:.6; font-size:.74rem; }

.status-error { color:var(--danger); font-size:.74rem; margin-bottom:1rem; }

:root.theme-black .audit-table.p-datatable-sm tbody tr:hover { background:color-mix(in srgb, var(--primary) 15%, transparent); }

/* Adaptaci√≥n de contraste por tema para evitar fondo blanco en dark/black */
:host-context(.theme-dark),
:host-context(.theme-black) {
  .audit-card ::ng-deep .p-card { background: color-mix(in srgb, var(--surface-alt) 96%, #000); }
  .org-toolbar h2 { color: var(--text); opacity:.95; }
  .audit-tools label, .audit-tools span { color: color-mix(in srgb, var(--text) 90%, #fff); opacity:.85; }
  .audit-table.p-datatable-sm thead th { background: color-mix(in srgb, var(--surface) 85%, #000); color: var(--text); opacity:.92; }
  .audit-table.p-datatable-sm tbody tr { background: color-mix(in srgb, var(--surface) 92%, #000); }
  .audit-table.p-datatable-sm tbody tr:nth-child(even) { background: color-mix(in srgb, var(--surface) 88%, #000); }
  .audit-table.p-datatable-sm tbody tr:hover { background: color-mix(in srgb, var(--primary) 18%, transparent); }
  .audit-empty { background: color-mix(in srgb, var(--surface) 90%, #000); border-radius:6px; }
  .timestamp, .detalle { color: color-mix(in srgb, var(--text) 95%, #fff); }
}

:host-context(.theme-light) {
  .audit-table.p-datatable-sm thead th { background: color-mix(in srgb, var(--surface) 96%, var(--primary) 4%); }
  .audit-table.p-datatable-sm tbody tr:hover { background: color-mix(in srgb, var(--primary) 14%, transparent); }
}

/* Mejoras de foco accesible */
.audit-table.p-datatable-sm tbody tr:focus-within { outline:2px solid color-mix(in srgb, var(--primary) 60%, transparent); outline-offset:1px; }

/* Ajuste de paddings para densidad uniforme */
.audit-table.p-datatable-sm thead th, .audit-table.p-datatable-sm tbody td { padding:.55rem .65rem; }

/* Reduce flicker al cambiar de tema */
:host { transition: background .25s ease, color .25s ease; }

/* Estilos para controles Auto-refresco y Filtrar */
.audit-control { gap:.65rem; padding:.4rem .75rem; background:color-mix(in srgb, var(--surface-alt) 94%, transparent); border:1px solid rgba(255,255,255,.08); border-radius:10px; backdrop-filter:blur(2px); }
.audit-control-label { font-size:.8rem; font-weight:600; letter-spacing:.4px; text-transform:uppercase; opacity:.85; }
.audit-filter-input { min-width:220px; font-size:.8rem; padding:.5rem .65rem; }
.audit-filter-input::placeholder { opacity:.55; }

/* Espaciado vertical extra debajo del bloque de controles */
.audit-tools { margin-bottom:1.25rem; }

/* Tema oscuro: forzar texto claro y mayor contraste en controles */
:host-context(.theme-dark) .audit-control,
:host-context(.theme-black) .audit-control { background:color-mix(in srgb, var(--surface-alt) 88%, #000); border-color:color-mix(in srgb, var(--surface) 55%, #000); }
:host-context(.theme-dark) .audit-control-label,
:host-context(.theme-black) .audit-control-label { color:#fff; opacity:.95; }
:host-context(.theme-dark) .audit-filter-input,
:host-context(.theme-black) .audit-filter-input { background:color-mix(in srgb, var(--surface) 92%, #000); color:#fff; border:1px solid color-mix(in srgb, var(--surface) 55%, #000); }
:host-context(.theme-dark) .audit-filter-input:focus,
:host-context(.theme-black) .audit-filter-input:focus { outline:2px solid color-mix(in srgb, var(--primary) 60%, transparent); outline-offset:1px; }

@media (max-width:640px) {
  .audit-table.p-datatable-sm th { font-size:.62rem; }
  .audit-table.p-datatable-sm td { font-size:.72rem; }
  .audit-tools { font-size:.7rem; }
}

@media (max-width:700px) {
  .audit-control { padding:.35rem .6rem; gap:.5rem; }
  .audit-filter-input { min-width:160px; }
}
