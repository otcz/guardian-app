/* Estrategia de Gobernanza - estilos organizados por bloques
   Paleta: usa variables globales (definidas en theme principal / :root)
   Variables esperadas: --surface, --surface-alt, --primary, --primary-accent, --text, --muted, --success, --danger
*/

:host { display:block; padding:1rem clamp(.75rem, 2vw, 1.5rem); }

.org-toolbar { display:flex; align-items:center; gap:.75rem; flex-wrap:wrap; margin-bottom:1rem; }
.org-toolbar .spacer { flex:1 1 auto; }
.org-toolbar h2 { font-size:1.15rem; font-weight:600; letter-spacing:.5px; margin:0; line-height:1.28; }

.strategy-card ::ng-deep .p-card { background:var(--surface-alt); border:1px solid rgba(255,255,255,.06); }

/* Form */
.strategy-form { max-width:52rem; display:flex; flex-direction:column; gap:1.35rem; }
.field-row { display:grid; gap:1rem; }
.field-row.cols-2 { grid-template-columns:repeat(auto-fit, minmax(240px,1fr)); }
.field-row.cols-3 { grid-template-columns:repeat(auto-fit, minmax(200px,1fr)); }

.field { display:flex; flex-direction:column; gap:.35rem; }
.field label { font-size:.65rem; letter-spacing:.55px; font-weight:600; text-transform:uppercase; opacity:.78; line-height:1.2; }
.field textarea, .field select, .field input { width:100%; }

.toggle-grid { display:grid; gap:.6rem; grid-template-columns:repeat(auto-fit, minmax(230px,1fr)); }
.toggle-item { display:flex; align-items:center; gap:.5rem; padding:.45rem .6rem; border:1px solid rgba(255,255,255,.06); border-radius:8px; background:linear-gradient(135deg, color-mix(in srgb, var(--surface-alt) 92%, transparent), color-mix(in srgb, var(--surface-alt) 85%, transparent)); transition:border-color .15s, background .3s; }
.toggle-item:hover { border-color:color-mix(in srgb, var(--primary) 50%, transparent); }
.toggle-item label { font-size:.7rem; letter-spacing:.35px; }

.actions { display:flex; gap:.5rem; flex-wrap:wrap; }
.actions button { min-width:140px; }

.status-messages { display:flex; flex-direction:column; gap:.25rem; font-size:.7rem; }
.status-success { color:var(--success); }
.status-error { color:var(--danger); }

select, textarea { background:var(--surface); color:var(--text); border:1px solid rgba(255,255,255,.15); border-radius:6px; padding:.45rem .6rem; font-size:.8rem; line-height:1.35; }
select:focus, textarea:focus { outline:2px solid color-mix(in srgb, var(--primary) 55%, transparent); outline-offset:1px; }

/* Responsive tune */
@media (max-width:640px) { .org-toolbar h2 { flex:1 0 100%; } }

/* Darker variant for black theme */
:root.theme-black select, :root.theme-black textarea { background:color-mix(in srgb, var(--surface) 85%, #000); }

/* === Contraste adaptativo por tema === */
:host-context(.theme-dark),
:host-context(.theme-black) {
  .field label,
  .toggle-item label,
  .org-toolbar h2 { opacity:.92; color: var(--text); }
  .field textarea, .field select, .field input { background: color-mix(in srgb, var(--surface) 92%, #000); }
  .toggle-item { background: linear-gradient(135deg, color-mix(in srgb, var(--surface-alt) 96%, #000), color-mix(in srgb, var(--surface-alt) 85%, #000)); }
  .toggle-item:hover { background: linear-gradient(135deg, color-mix(in srgb, var(--surface-alt) 100%, #000), color-mix(in srgb, var(--surface-alt) 88%, #000)); }
}

:host-context(.theme-light) {
  .field label, .toggle-item label { opacity:.78; }
}

/* Headers menores con mejor contraste */
.field-row .field > label { letter-spacing:.55px; }

/* Accesibilidad: foco visible en dark/black */
:host-context(.theme-dark) select:focus,
:host-context(.theme-black) select:focus,
:host-context(.theme-dark) textarea:focus,
:host-context(.theme-black) textarea:focus { outline:2px solid color-mix(in srgb, var(--primary) 70%, transparent); }
