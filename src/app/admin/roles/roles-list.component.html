<div class="admin-grid">
  <app-side-nav title="Administración"></app-side-nav>
  <div class="card">
    <div class="header-row">
      <h2>Roles</h2>
      <span class="spacer"></span>
      <button pButton label="Crear rol" icon="pi pi-plus" (click)="goNew()" *ngIf="perm.canCreateRole()"></button>
    </div>

    <p-table [value]="items">
      <ng-template pTemplate="header">
        <tr><th>Nombre</th><th>Código</th><th>Descripción</th><th class="actions">Acciones</th></tr>
      </ng-template>
      <ng-template pTemplate="body" let-row>
        <tr>
          <td>{{ row.name }}</td>
          <td>{{ row.code || '-' }}</td>
          <td>{{ row.description || '-' }}</td>
          <td class="actions">
            <button pButton icon="pi pi-pencil" class="p-button-text" (click)="edit(row)" [disabled]="!perm.canEditRole()"></button>
            <button pButton icon="pi pi-trash" class="p-button-text" (click)="remove(row)" [disabled]="!perm.canDeleteRole()"></button>
          </td>
        </tr>
      </ng-template>
    </p-table>

    <p-confirmDialog></p-confirmDialog>
  </div>
</div>

