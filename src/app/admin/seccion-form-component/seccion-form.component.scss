.sec-wrapper { padding: 1.25rem clamp(.75rem, 2vw, 1.5rem); }
.page-header { display: flex; align-items: center; gap: .75rem; margin-bottom: 1.25rem; }
.page-header h2 { margin: 0; font-weight: 800; letter-spacing: .2px; font-size: 1.3rem; color: var(--text); }
.page-header .subtitle { margin: .15rem 0 0 0; opacity: .9; font-size: .85rem; color: var(--muted); }
.page-header .spacer { flex: 1 1 auto; }

.card ::ng-deep .p-card { background: var(--surface-alt) !important; border-radius: 12px; }

.form-grid { display: grid; gap: 1rem; grid-template-columns: minmax(280px, 720px); }
.field { display: flex; flex-direction: column; gap: .45rem; }
.field.inline { display: grid !important; grid-auto-flow: column; grid-auto-columns: max-content; align-items: center; gap: .75rem; }
.field.inline label:first-child { display: inline-flex; align-items: center; height: auto; line-height: 1em; margin: 0; }
.field.inline .ui-switch { display: inline-flex; align-items: center; align-self: center; /* sin margin-left:auto para quedar junto al label */ }
.field label { font-weight: 600; color: var(--text); }
.req { color: var(--danger, #e53e3e); }
.error { color: var(--danger, #e53e3e); font-size: .82rem; }

.actions { display: flex; gap: .75rem; margin-top: .25rem; flex-wrap: wrap; }

:host-context(.theme-dark) .page-header h2,
:host-context(.theme-black) .page-header h2,
:host-context(.theme-dark) .field label,
:host-context(.theme-black) .field label { color: #fff; }

/* Legibilidad en tema claro: labels y dropdown en negro */
:host-context(.theme-light) .field label { color: #222 !important; }
:host-context(.theme-light) ::ng-deep .seccion-padre-control.p-dropdown { background: #fff; border-color: rgba(0,0,0,.15); }
:host-context(.theme-light) ::ng-deep .seccion-padre-control .p-dropdown-label { color: #222 !important; }
:host-context(.theme-light) ::ng-deep .seccion-padre-control .p-dropdown-label.p-placeholder { color: rgba(0,0,0,.6) !important; }
:host-context(.theme-light) ::ng-deep .seccion-padre-control .p-dropdown-items .p-dropdown-item { color: #222 !important; }
:host-context(.theme-light) ::ng-deep .seccion-padre-control .p-select-label { color: #222 !important; }
:host-context(.theme-light) ::ng-deep .seccion-padre-control .p-select-label.p-placeholder { color: rgba(0,0,0,.6) !important; }

/* Tema oscuro: asegurar contraste en dropdown */
:host-context(.theme-dark) ::ng-deep .seccion-padre-control .p-dropdown-label,
:host-context(.theme-black) ::ng-deep .seccion-padre-control .p-dropdown-label { color: #fff !important; }

/* ===== Fix InputSwitch: mismo estilo que crear-estrategy ===== */
:host ::ng-deep .p-inputswitch { width: 42px; height: 22px; }
:host ::ng-deep .p-inputswitch .p-inputswitch-slider { position: relative; }
:host ::ng-deep .p-inputswitch .p-inputswitch-slider:before {
  content: "" !important;
  display: block !important;
  width: 18px;
  height: 18px;
  top: 2px;
  left: 2px !important;
  transform: none !important;
  border-radius: 999px;
  background: #ffffff;
  box-shadow: 0 0 0 1px rgba(0,0,0,.35), 0 1px 2px rgba(0,0,0,.35);
}
:host ::ng-deep .p-inputswitch.p-inputswitch-checked .p-inputswitch-slider:before {
  left: calc(100% - 20px) !important;
}
/* Opcional: estados visuales como en crear-strategy */
:host ::ng-deep .p-inputswitch .p-inputswitch-slider {
  background: color-mix(in srgb, var(--surface) 78%, #ffffff 22%) !important;
  /* background-color duplicada eliminada */
  border: 1px solid color-mix(in srgb, var(--border) 75%, transparent) !important;
  transition: background .2s ease, box-shadow .2s ease, border-color .2s ease;
}
:host ::ng-deep .p-inputswitch:not(.p-disabled):hover .p-inputswitch-slider {
  box-shadow: 0 0 0 2px color-mix(in srgb, var(--primary) 18%, transparent);
}
:host ::ng-deep .p-inputswitch.p-inputswitch-checked .p-inputswitch-slider {
  background: color-mix(in srgb, var(--success) 72%, var(--surface) 28%) !important;
  /* background-color duplicada eliminada */
  border-color: color-mix(in srgb, var(--success) 70%, var(--border)) !important;
}
:host ::ng-deep .p-inputswitch.p-focus .p-inputswitch-slider {
  box-shadow: 0 0 0 3px color-mix(in srgb, var(--primary) 30%, transparent);
}
/* Tema claro coherente */
:host-context(.theme-light) ::ng-deep .p-inputswitch .p-inputswitch-slider {
  background: #f3f4f6 !important;
  /* background-color duplicada eliminada */
  border-color: rgba(0,0,0,.12) !important;
}
/* Tema oscuro coherente (OFF) */
:host-context(.theme-dark) ::ng-deep .p-inputswitch .p-inputswitch-slider,
:host-context(.theme-black) ::ng-deep .p-inputswitch .p-inputswitch-slider {
  background: #3a3d44 !important;
  /* background-color duplicada eliminada */
  border-color: #555a65 !important;
}

/* ===== Switch personalizado idéntico al de crear-estrategia ===== */
.ui-switch-input { position: absolute; opacity: 0; width: 0; height: 0; }
.ui-switch { position: relative; flex: 0 0 42px; width: 42px; height: 22px; cursor: pointer; }
.ui-switch .slider { position: absolute; inset: 0; border-radius: 999px; border: 1px solid rgba(255,255,255,.18); background: #3a3d44; transition: background .2s ease, border-color .2s ease, box-shadow .2s ease; }
.ui-switch .slider::after { content: ""; position: absolute; width: 18px; height: 18px; top: 2px; left: 2px; border-radius: 999px; background: #fff; box-shadow: 0 0 0 1px rgba(0,0,0,.35), 0 1px 2px rgba(0,0,0,.35); transition: left .2s ease; }
.ui-switch-input:checked + .ui-switch .slider { background: color-mix(in srgb, var(--success) 72%, var(--surface) 28%); border-color: color-mix(in srgb, var(--success) 70%, var(--border)); }
.ui-switch-input:checked + .ui-switch .slider::after { left: calc(100% - 20px); }
/* Focus/hover */
.ui-switch-input:focus-visible + .ui-switch .slider { box-shadow: 0 0 0 3px color-mix(in srgb, var(--primary) 28%, transparent); }
.ui-switch:hover .slider { box-shadow: 0 0 0 2px color-mix(in srgb, var(--primary) 16%, transparent); }
/* Tema claro: track OFF más claro */
:host-context(.theme-light) .ui-switch .slider { background: #f3f4f6; border-color: rgba(0,0,0,.12); }
/* Deshabilitado cuando el control está disabled */
.ui-switch-input:disabled + .ui-switch { cursor: not-allowed; opacity: .6; }
