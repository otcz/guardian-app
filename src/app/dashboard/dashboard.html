<div class="dashboard-header">
  <span class="dashboard-title">GUARDIAN</span>
  <span class="avatar-circle user-avatar" style="margin-left:auto; margin-right:0.5rem; cursor:pointer;" (click)="toggleUserMenu()">
    <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
      <circle cx="16" cy="16" r="16" fill="#e0e6ed"/>
      <path d="M16 17c2.761 0 5-2.239 5-5s-2.239-5-5-5-5 2.239-5 5 2.239 5 5 5zm0 2c-3.33 0-10 1.667-10 5v2h20v-2c0-3.333-6.67-5-10-5z" fill="#7a869a"/>
    </svg>
  </span>
  <div class="user-menu" *ngIf="showUserMenu" style="position:absolute; top:56px; right:0.5rem; min-width:220px; background:#fff; color:#23272f; border-radius:12px; box-shadow:0 4px 24px rgba(30,40,60,0.18); border:1px solid #e0e6ed; z-index:2000;">
    <div style="padding: 0.7rem 1.2rem 0.3rem 1.2rem; border-bottom: 1px solid #e0e6ed;">
      <div class="navbar-usuario" style="font-size:0.85rem; font-family:'Chakra Petch', 'Inter', 'Segoe UI', Arial, sans-serif; color:#7a869a; letter-spacing:1px; font-weight:500;">{{ correo }}</div>
      <div class="navbar-rol">{{ rol | titlecase }}</div>
    </div>
    <button class="user-menu-item" (click)="logout()">
      <i class="pi pi-sign-out"></i> Cerrar sesi√≥n
    </button>
  </div>
</div>

<div class="dashboard-layout">
  <app-sidebar [rol]="rol" [correo]="correo" [showUserMenu]="showUserMenu" [toggleUserMenu]="toggleUserMenu.bind(this)" [logout]="logout.bind(this)"></app-sidebar>

  <main class="dashboard-main">
    <div class="dashboard-navbar">
      <button class="sidebar-hamburger-navbar mobile-only" (click)="sidebarMobileOpen ? closeSidebarMobile() : openSidebarMobile()">
        <i class="pi pi-bars"></i>
      </button>
    </div>
    <div class="dashboard-container">
      <router-outlet></router-outlet>
    </div>
  </main>

  <footer class="footer-flotante" style="font-size:0.75rem; font-family:'Chakra Petch', 'Inter', 'Segoe UI', Arial, sans-serif; color:#7a869a; letter-spacing:1px; font-weight:500;">
    ESTA APP FUE DESARROLLADA POR OT&CZ para al flooter
  </footer>
</div>
