/* Design tokens y temas (claro, oscuro, negro) */
:root.theme-light {
  --bg: #f4f7fa;
  --surface: #ffffff;
  --text: #23272f;
  --muted: #7a869a;
  --primary: #4f8cff;
  --primary-600: #2563eb;
  --secondary: #203a43;
  --border: #dbeafe;
  --success: #16a34a;
  --success-100: #e7f6ec;
  --danger: #e53e3e;
  --danger-100: #fff0f0;

  /* PrimeNG tokens - forzar texto negro en modo claro */
  --p-text-color: #000000;
  --p-inputtext-color: #000000;
  --p-inputtext-placeholder-color: #4b5563;

  /* PrimeNG surface tokens */
  --surface-ground: var(--bg);
  --surface-section: var(--surface);
  --surface-card: var(--surface);
  --surface-overlay: #ffffff;
  --text-color: #000000;
}
:root.theme-dark {
  --bg: #181824;
  --surface: #232336;
  --text: #e0e6ed;
  --muted: #9aa3b2;
  --primary: #6ba2ff;
  --primary-600: #4f8cff;
  --secondary: #0d2030;
  --border: #2e3445;
  --success: #2dd27b;
  --success-100: #0b2d1c;
  --danger: #ff6b6b;
  --danger-100: #3a1f1f;

  /* PrimeNG surface tokens */
  --surface-ground: var(--bg);
  --surface-section: var(--surface);
  --surface-card: var(--surface);
  --surface-overlay: #232336; /* mismo que surface */
  --text-color: #e0e6ed;
}
:root.theme-black {
  --bg: #0b0b0b;
  --surface: #131313;
  --text: #e6e6e6;
  --muted: #9a9a9a;
  --primary: #6ba2ff;
  --primary-600: #4f8cff;
  --secondary: #080b10;
  --border: #262626;
  --success: #2dd27b;
  --success-100: #0d2218;
  --danger: #ff6b6b;
  --danger-100: #2a1414;

  /* PrimeNG surface tokens */
  --surface-ground: var(--bg);
  --surface-section: var(--surface);
  --surface-card: var(--surface);
  --surface-overlay: #131313; /* mismo que surface */
  --text-color: #e6e6e6;
}

/* Base */
* { box-sizing: border-box; }
html, body { height: 100%; }
body {
  margin: 0;
  font-family: Inter, Segoe UI, Roboto, Arial, sans-serif;
  background: var(--bg);
  color: var(--text);
}

/* Links, focus y helpers */
a { color: var(--primary); text-decoration: none; }
a:hover { text-decoration: underline; }
:focus-visible { outline: 3px solid color-mix(in srgb, var(--primary) 65%, white); outline-offset: 2px; }

/* Contenedores utilitarios */
.container { width: min(1024px, 92vw); margin: 0 auto; }
.card {
  background: var(--surface);
  border: none; /* borderless */
  border-radius: 14px;
  box-shadow: 0 10px 24px rgba(0,0,0,0.08), 0 2px 8px rgba(79,140,255,0.06);
}
/* Elevación en hover para tarjetas */
.card:hover { box-shadow: 0 14px 32px rgba(0,0,0,0.12), 0 4px 14px rgba(79,140,255,0.10); }

/* Botones PrimeNG override básico */
.p-button { border: none; border-radius: 10px; }
.p-button.p-button-primary { background: linear-gradient(90deg, var(--primary) 60%, var(--secondary) 100%); }
.p-button.p-button-primary:hover { background: linear-gradient(90deg, var(--secondary) 0%, var(--primary) 100%); }

/* Inputs PrimeNG borderless con contorno por sombra */
.p-inputtext {
  background: var(--surface);
  border: none; /* borderless */
  border-radius: 10px;
  color: var(--text);
  box-shadow: inset 0 0 0 1px color-mix(in srgb, var(--border) 60%, transparent);
  transition: box-shadow .15s ease, background .15s ease;
}
.p-inputtext:hover {
  background: color-mix(in srgb, var(--surface) 94%, var(--bg));
  box-shadow: inset 0 0 0 1.25px color-mix(in srgb, var(--primary) 18%, var(--border));
}
.p-inputtext:focus {
  /* halo + refuerzo de contorno sin usar border */
  box-shadow: 0 0 0 4px color-mix(in srgb, var(--primary) 20%, transparent), inset 0 0 0 1.5px color-mix(in srgb, var(--primary) 50%, var(--border));
}

/* Dropdowns PrimeNG borderless */
.p-dropdown {
  background: var(--surface);
  border: none; /* borderless */
  border-radius: 10px;
  color: var(--text);
  box-shadow: inset 0 0 0 1px color-mix(in srgb, var(--border) 60%, transparent);
  transition: box-shadow .15s ease, background .15s ease;
}
.p-dropdown:hover {
  background: color-mix(in srgb, var(--surface) 94%, var(--bg));
  box-shadow: inset 0 0 0 1.25px color-mix(in srgb, var(--primary) 18%, var(--border));
}
.p-dropdown.p-focus {
  box-shadow: 0 0 0 4px color-mix(in srgb, var(--primary) 20%, transparent), inset 0 0 0 1.5px color-mix(in srgb, var(--primary) 50%, var(--border));
}
.p-dropdown-panel {
  background: var(--surface);
  border: none; /* borderless */
  box-shadow: 0 12px 28px rgba(0,0,0,0.18), 0 6px 12px rgba(79,140,255,0.10);
}
/* Items del panel con hover sin borde */
.p-dropdown-items .p-dropdown-item {
  border-radius: 8px;
}

/* Snackbar/toast base (si se usan) */
.snackbar { background: linear-gradient(90deg, var(--primary) 60%, var(--secondary) 100%); color: #fff; }
.snackbar.snackbar-error { background: linear-gradient(90deg, var(--danger) 60%, #7f1d1d 100%); }

/* Layout básicos para header y sidebar */
.header {
  height: 56px; display: flex; align-items: center; gap: 12px;
  padding: 0 16px; background: var(--secondary); color: #fff;
}
.header .spacer { flex: 1 1 auto; }
.sidebar { width: 260px; background: linear-gradient(135deg, var(--secondary) 0%, color-mix(in srgb, var(--secondary) 70%, black) 100%); color: #fff; }
.main { flex: 1; background: var(--bg); }

/* KPI cards */
.kpi-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: 16px; }
.kpi { padding: 16px; }

/* Selector de tema (p-selectButton) */
.theme-select .p-buttonset .p-button,
.theme-select .p-selectbutton .p-button {
  border: none !important;
  box-shadow: inset 0 0 0 1px color-mix(in srgb, var(--border) 60%, transparent);
}
.theme-select .p-button.p-highlight {
  box-shadow: inset 0 0 0 1.5px color-mix(in srgb, var(--primary) 60%, var(--border)), 0 4px 16px rgba(79,140,255,0.18);
}
.theme-select .p-button:focus-visible {
  outline: 3px solid color-mix(in srgb, var(--primary) 65%, white);
  outline-offset: 2px;
}
.theme-select .p-button:hover:not(.p-highlight) {
  background: color-mix(in srgb, var(--primary) 12%, var(--surface));
}

/* Tarjetas y cabeceras (look tecnológico) */
.card {
  border-radius: 14px;
  box-shadow: 0 8px 32px rgba(0,0,0,0.08);
}
.header {
  background: linear-gradient(120deg, var(--secondary) 0%, color-mix(in srgb, var(--secondary) 70%, black) 100%);
}

/* Inputs: halo de seguridad al focus */
.p-inputtext:focus {
  box-shadow: 0 0 0 4px color-mix(in srgb, var(--primary) 20%, transparent);
}

/* FAB de tema visible en todo el dashboard */
.theme-fab {
  position: fixed;
  right: 16px;
  bottom: 16px;
  z-index: 2000;
}
.theme-fab .p-button {
  width: 52px;
  height: 52px;
  border-radius: 50% !important;
  padding: 0 !important;
  background: linear-gradient(120deg, var(--primary) 0%, var(--secondary) 100%);
  color: #fff;
  box-shadow: 0 8px 24px rgba(0,0,0,0.18), 0 4px 12px rgba(79,140,255,0.18);
  transition: transform .15s ease, box-shadow .15s ease, background .2s ease;
}
.theme-fab .p-button:hover {
  transform: translateY(-1px);
  background: linear-gradient(120deg, var(--secondary) 0%, var(--primary) 100%);
  box-shadow: 0 12px 28px rgba(0,0,0,0.22), 0 6px 16px rgba(79,140,255,0.22);
}
.theme-fab .p-button:active { transform: translateY(0); }
.theme-fab .p-button span { display: none; }
.theme-fab .p-button .pi { font-size: 1.2rem; }

/* Botones: variantes y estados claros */
.p-button { font-weight: 700; letter-spacing: .2px; }
.p-button.p-button-text { background: transparent; color: var(--text); }
.p-button.p-button-text:hover { background: color-mix(in srgb, var(--primary) 12%, transparent); }
.p-button.p-button-rounded { border-radius: 999px; }
/* Variantes semánticas */
.p-button.p-button-success { background: linear-gradient(90deg, var(--success) 60%, #138a4f 100%); color:#fff; }
.p-button.p-button-success:hover { background: linear-gradient(90deg, #138a4f 0%, var(--success) 100%); }
.p-button.p-button-danger { background: linear-gradient(90deg, var(--danger) 60%, #7f1d1d 100%); color:#fff; }
.p-button.p-button-danger:hover { background: linear-gradient(90deg, #7f1d1d 0%, var(--danger) 100%); }
.p-button.p-button-outlined { background: transparent; border:1px solid var(--border); color: var(--text); }
.p-button.p-button-outlined:hover { background: color-mix(in srgb, var(--primary) 10%, transparent); }
.p-button:disabled, .p-button.p-disabled { opacity: .6; cursor: not-allowed; box-shadow: none; }

/* Inputs: estados, placeholders y accesibilidad */
.p-inputtext::placeholder { color: color-mix(in srgb, var(--muted) 80%, white); opacity: 1; }
.p-inputtext:disabled { background: color-mix(in srgb, var(--surface) 70%, var(--bg)); color: var(--muted); }
/* Invalid PrimeNG */
.p-inputtext.p-invalid, .p-element.p-invalid .p-inputtext { box-shadow: 0 0 0 3px color-mix(in srgb, var(--danger) 20%, transparent) !important; }
/* Invalid Angular */
.ng-invalid.ng-touched .p-inputtext { box-shadow: 0 0 0 3px color-mix(in srgb, var(--danger) 20%, transparent) !important; }

/* Campos con etiqueta y ayuda (si se usan) */
.form-field { display: flex; flex-direction: column; gap: 6px; }
.form-field label { font-weight: 600; color: var(--text); }
.form-field .helper { font-size: .86rem; color: var(--muted); }

/* Glass/blur header */
.header {
  background: linear-gradient(120deg, color-mix(in srgb, var(--secondary) 70%, transparent) 0%, color-mix(in srgb, var(--secondary) 40%, transparent) 100%);
  backdrop-filter: blur(10px) saturate(140%);
  -webkit-backdrop-filter: blur(10px) saturate(140%);
  border-bottom: 1px solid color-mix(in srgb, var(--border) 60%, transparent);
}

/* Animación al cambiar de tema */
@keyframes theme-fade {
  0% { opacity: .2; filter: saturate(85%); }
  100% { opacity: 1; filter: saturate(100%); }
}
.theme-change body,
.theme-change .main,
.theme-change .header,
.theme-change .sidebar,
.theme-change .card {
  animation: theme-fade .35s ease both;
}

/* Micro-animaciones: KPIs y filas de tabla */
.kpi { transition: transform .15s ease, box-shadow .15s ease; }
.kpi:hover { transform: translateY(-2px); box-shadow: 0 10px 28px rgba(0,0,0,0.12), 0 6px 16px rgba(79,140,255,0.15); }
/* PrimeNG Table hover */
.p-datatable .p-datatable-wrapper table tbody tr:hover,
.p-table .p-datatable-wrapper table tbody tr:hover,
.p-table table tbody tr:hover {
  background: color-mix(in srgb, var(--primary) 8%, transparent) !important;
}

/* Tamaños confortables (inputs, dropdowns, botones) */
.p-inputtext {
  min-height: 48px;
  padding: 10px 14px;
  font-size: 1.02rem;
}
.p-dropdown {
  min-height: 48px;
  padding: 2px 12px;
  font-size: 1.02rem;
}
.p-dropdown .p-dropdown-label {
  padding: 10px 0;
}
.p-button {
  min-height: 48px;
  padding: 12px 18px;
  font-size: 1.02rem;
}
/* Botón flotante mantiene tamaño compacto */
.theme-fab .p-button { min-height: 52px; padding: 0; font-size: 1rem; }

/* Intensificar glows por tema y estado */
:root.theme-light {
  /* Halo azul más visible en foco (inputs/dropdowns) — menos grueso */
  .p-inputtext:focus,
  .p-dropdown.p-focus {
    box-shadow: 0 0 0 4px color-mix(in srgb, var(--primary) 28%, transparent), inset 0 0 0 1.5px color-mix(in srgb, var(--primary) 55%, var(--border));
  }
  /* Tarjetas con sutil glow azul en hover */
  .card:hover {
    box-shadow: 0 14px 32px rgba(0,0,0,0.12), 0 6px 18px rgba(79,140,255,0.18), 0 0 0 2px color-mix(in srgb, var(--primary) 10%, transparent);
  }
}

/* Rojo que brilla — estados de error más intensos pero menos grueso */
.p-inputtext.p-invalid,
.p-element.p-invalid .p-inputtext,
.ng-invalid.ng-touched .p-inputtext {
  box-shadow: 0 0 0 4px color-mix(in srgb, var(--danger) 28%, transparent), inset 0 0 0 1.5px var(--danger) !important;
}
/* Dropdown inválido (cuando aplique la clase de PrimeNG) */
.p-dropdown.p-invalid {
  box-shadow: 0 0 0 4px color-mix(in srgb, var(--danger) 28%, transparent), inset 0 0 0 1.5px var(--danger) !important;
}
/* Snackbar de error con el mismo borde que los botones y tipografía más gruesa */
.snackbar.snackbar-error {
  border-radius: 10px; /* mismo borde que p-button */
  font-weight: 800;    /* etiqueta más gruesa */
  padding: 14px 20px;  /* un poco más de presencia */
}

/* Revertir inputs y dropdowns al estilo del tema por defecto */
.p-inputtext,
.p-inputtextarea {
  background: unset !important;
  border: unset !important;
  box-shadow: unset !important;
  border-radius: unset !important;
}
.p-inputtext:hover,
.p-inputtext:focus {
  box-shadow: unset !important;
}
.p-dropdown {
  background: unset !important;
  border: unset !important;
  box-shadow: unset !important;
  border-radius: unset !important;
}
.p-dropdown:hover,
.p-dropdown.p-focus {
  box-shadow: unset !important;
}

/* Tipografía blanca en inputs/dropdowns para temas oscuro y negro */
:root.theme-dark, :root.theme-black {
  .p-inputtext,
  .p-inputtextarea,
  .p-password input,
  .p-dropdown .p-dropdown-label {
    color: #ffffff !important;
  }
  .p-inputtext::placeholder,
  .p-inputtextarea::placeholder {
    color: rgba(255,255,255,0.75) !important;
  }
}

/* Tabla 'Actividad reciente' en modo claro (scoped a app-dashboard) */
:root.theme-light app-dashboard .recent-activity .p-datatable-wrapper table {
  background: var(--surface) !important;
  color: #000 !important;
}
:root.theme-light app-dashboard .recent-activity .p-datatable-thead > tr > th {
  background: color-mix(in srgb, var(--surface) 96%, var(--primary) 4%) !important;
  color: #000 !important;
  border-bottom: 1px solid var(--border) !important;
  font-weight: 700 !important;
}
:root.theme-light app-dashboard .recent-activity .p-datatable-tbody > tr > td {
  background: var(--surface) !important;
  color: #000 !important;
  border-top: 1px solid var(--border) !important;
}
:root.theme-light app-dashboard .recent-activity {
  border-radius: 12px;
  overflow: hidden;
}

/* Tabla 'Actividad reciente' en modo oscuro */
:root.theme-dark app-dashboard .recent-activity .p-datatable-wrapper table {
  background: var(--surface) !important; /* #232336 */
  color: var(--text) !important;         /* #e0e6ed */
}
:root.theme-dark app-dashboard .recent-activity .p-datatable-thead > tr > th {
  background: color-mix(in srgb, var(--surface) 88%, var(--primary) 12%) !important;
  color: var(--text) !important;
  border-bottom: 1px solid var(--border) !important; /* #2e3445 */
  font-weight: 700 !important;
}
:root.theme-dark app-dashboard .recent-activity .p-datatable-tbody > tr > td {
  background: var(--surface) !important;
  color: var(--text) !important;
  border-top: 1px solid var(--border) !important;
}
:root.theme-dark app-dashboard .recent-activity {
  border-radius: 12px;
  overflow: hidden;
}

/* Tabla 'Actividad reciente' en modo negro */
:root.theme-black app-dashboard .recent-activity .p-datatable-wrapper table {
  background: var(--surface) !important; /* #131313 */
  color: var(--text) !important;         /* #e6e6e6 */
}
:root.theme-black app-dashboard .recent-activity .p-datatable-thead > tr > th {
  background: color-mix(in srgb, var(--surface) 88%, var(--primary) 12%) !important;
  color: var(--text) !important;
  border-bottom: 1px solid var(--border) !important; /* #262626 */
  font-weight: 700 !important;
}
:root.theme-black app-dashboard .recent-activity .p-datatable-tbody > tr > td {
  background: var(--surface) !important;
  color: var(--text) !important;
  border-top: 1px solid var(--border) !important;
}
:root.theme-black app-dashboard .recent-activity {
  border-radius: 12px;
  overflow: hidden;
}

/* Refuerzo final para login en tema claro: texto/caret negros y placeholder gris */
:root.theme-light app-login input:not([type="checkbox"]):not([type="radio"]),
:root.theme-light app-login .p-inputtext,
:root.theme-light app-login .p-password input,
:root.theme-light app-login textarea {
  color: #000 !important;
  caret-color: #000 !important;
}
:root.theme-light app-login input::placeholder,
:root.theme-light app-login textarea::placeholder,
:root.theme-light app-login .p-inputtext::placeholder {
  color: #4b5563 !important; /* gris legible */
}

/* Refuerzo global: texto negro por defecto en modo claro */
:root.theme-light body,
:root.theme-light body .p-component {
  color: #000 !important;
}

/* Tema claro: p-dropdown con fondo blanco y texto negro + efectos */
:root.theme-light body .p-dropdown {
  background: #ffffff !important;
  color: #000 !important;
  border: none !important;
  border-radius: 10px !important;
  box-shadow: inset 0 0 0 1px color-mix(in srgb, var(--border) 60%, transparent) !important;
}
:root.theme-light body .p-dropdown:hover {
  background: color-mix(in srgb, var(--surface) 96%, var(--bg)) !important;
  box-shadow: inset 0 0 0 1.25px color-mix(in srgb, var(--primary) 18%, var(--border)) !important;
}
:root.theme-light body .p-dropdown.p-focus {
  box-shadow: 0 0 0 4px color-mix(in srgb, var(--primary) 20%, transparent), inset 0 0 0 1.5px color-mix(in srgb, var(--primary) 50%, var(--border)) !important;
}
:root.theme-light body .p-dropdown .p-dropdown-label { color: #000 !important; }
:root.theme-light body .p-dropdown .p-dropdown-label.p-placeholder { color: #4b5563 !important; }

/* Panel del dropdown en tema claro (base) */
:root.theme-light body .p-dropdown-panel {
  background: #ffffff !important;
  color: #000 !important;
  border: none !important;
  box-shadow: 0 12px 28px rgba(0,0,0,0.18), 0 6px 12px rgba(79,140,255,0.10) !important;
}
:root.theme-light body .p-dropdown-panel .p-dropdown-item { color: #000 !important; border-radius: 8px; }
:root.theme-light body .p-dropdown-panel .p-dropdown-item.p-highlight { background: color-mix(in srgb, var(--primary) 14%, transparent) !important; color: #000 !important; }
:root.theme-light body .p-dropdown-panel .p-dropdown-item:not(.p-highlight):hover { background: color-mix(in srgb, var(--primary) 10%, transparent) !important; }

/* Tema claro: control específico blanco para Tipo de documento */
:root.theme-light body .doc-type-control.p-dropdown {
  background: #ffffff !important;
  color: #000 !important;
  border: none !important;
  border-radius: 10px !important;
  box-shadow: inset 0 0 0 1px color-mix(in srgb, var(--border) 60%, transparent) !important;
}
:root.theme-light body .doc-type-control.p-dropdown:hover {
  background: color-mix(in srgb, var(--surface) 96%, var(--bg)) !important;
}
:root.theme-light body .doc-type-control.p-dropdown .p-dropdown-label { color: #000 !important; }
:root.theme-light body .doc-type-control.p-dropdown .p-dropdown-label.p-placeholder { color: #4b5563 !important; }

/* FIX definitivo: panel del dropdown con clase en el propio .p-dropdown-panel (opciones verdes) */
:root.theme-light body .p-dropdown-panel.doc-type-panel { background: #ffffff !important; color: #000 !important; border: none !important; box-shadow: 0 12px 28px rgba(0,0,0,0.18), 0 6px 12px rgba(79,140,255,0.10) !important; }
:root.theme-light body .p-dropdown-panel.doc-type-panel .p-dropdown-items-wrapper { background: #ffffff !important; }
:root.theme-light body .p-dropdown-panel.doc-type-panel .p-dropdown-items { padding: 8px !important; background: #ffffff !important; }
:root.theme-light body .p-dropdown-panel.doc-type-panel .p-dropdown-item { background: var(--success) !important; color: #ffffff !important; border-radius: 10px; margin: 4px 0; }
:root.theme-light body .p-dropdown-panel.doc-type-panel .p-dropdown-item:hover { background: color-mix(in srgb, var(--success) 85%, black) !important; }
:root.theme-light body .p-dropdown-panel.doc-type-panel .p-dropdown-item.p-highlight { background: color-mix(in srgb, var(--success) 75%, black) !important; color: #ffffff !important; }

/* Extensiones para clases p-select-* (PrimeNG 18) */
:root.theme-light body .p-select-panel {
  background: #ffffff !important;
  color: #000 !important;
  border: none !important;
  box-shadow: 0 12px 28px rgba(0,0,0,0.18), 0 6px 12px rgba(79,140,255,0.10) !important;
}
:root.theme-light body .p-select-panel .p-select-item { color: #000 !important; border-radius: 8px; }
:root.theme-light body .p-select-panel .p-select-item.p-highlight { background: color-mix(in srgb, var(--primary) 14%, transparent) !important; color: #000 !important; }
:root.theme-light body .p-select-panel .p-select-item:not(.p-highlight):hover { background: color-mix(in srgb, var(--primary) 10%, transparent) !important; }

/* Control específico 'Tipo de documento' (label negro si la clase cambia) */
:root.theme-light body .doc-type-control .p-select-label { color: #000 !important; }

/* Panel verde para doc-type también con p-select-panel */
:root.theme-light body .p-select-panel.doc-type-panel { background: #ffffff !important; color: #000 !important; }
:root.theme-light body .p-select-panel.doc-type-panel .p-select-items-wrapper { background: #ffffff !important; }
:root.theme-light body .p-select-panel.doc-type-panel .p-select-items { padding: 8px !important; background: #ffffff !important; }
:root.theme-light body .p-select-panel.doc-type-panel .p-select-item { background: var(--success) !important; color: #ffffff !important; border-radius: 10px; margin: 4px 0; }
:root.theme-light body .p-select-panel.doc-type-panel .p-select-item:hover { background: color-mix(in srgb, var(--success) 85%, black) !important; }
:root.theme-light body .p-select-panel.doc-type-panel .p-select-item.p-highlight { background: color-mix(in srgb, var(--success) 75%, black) !important; color: #ffffff !important; }

/* Tema oscuro: control y panel de 'Tipo de documento' */
:root.theme-dark body .doc-type-control.p-dropdown {
  background: var(--surface) !important;
  color: var(--text) !important;
  border: none !important;
  border-radius: 10px !important;
  box-shadow: inset 0 0 0 1px color-mix(in srgb, var(--border) 60%, transparent) !important;
}
:root.theme-dark body .doc-type-control.p-dropdown:hover {
  background: color-mix(in srgb, var(--surface) 92%, var(--bg)) !important;
}
:root.theme-dark body .doc-type-control.p-dropdown .p-dropdown-label { color: var(--text) !important; }
:root.theme-dark body .doc-type-control.p-dropdown .p-dropdown-label.p-placeholder { color: color-mix(in srgb, var(--muted) 85%, white) !important; }

:root.theme-dark body .p-dropdown-panel.doc-type-panel {
  background: var(--surface) !important;
  color: var(--text) !important;
  border: 1px solid var(--border) !important;
  box-shadow: 0 12px 28px rgba(0,0,0,0.28), 0 6px 12px rgba(79,140,255,0.10) !important;
}
:root.theme-dark body .p-dropdown-panel.doc-type-panel .p-dropdown-items { background: transparent !important; }
:root.theme-dark body .p-dropdown-panel.doc-type-panel .p-dropdown-item { color: var(--text) !important; border-radius: 8px; background: transparent !important; }
:root.theme-dark body .p-dropdown-panel.doc-type-panel .p-dropdown-item.p-highlight {
  background: color-mix(in srgb, var(--primary) 18%, transparent) !important;
  color: var(--text) !important;
}
:root.theme-dark body .p-dropdown-panel.doc-type-panel .p-dropdown-item:not(.p-highlight):hover {
  background: color-mix(in srgb, var(--primary) 12%, transparent) !important;
}
/* Compatibilidad con p-select-panel si se usa */
:root.theme-dark body .p-select-panel.doc-type-panel {
  background: var(--surface) !important; color: var(--text) !important; border: 1px solid var(--border) !important;
}
:root.theme-dark body .p-select-panel.doc-type-panel .p-select-item { color: var(--text) !important; border-radius: 8px; }
:root.theme-dark body .p-select-panel.doc-type-panel .p-select-item.p-highlight { background: color-mix(in srgb, var(--primary) 18%, transparent) !important; color: var(--text) !important; }
:root.theme-dark body .p-select-panel.doc-type-panel .p-select-item:not(.p-highlight):hover { background: color-mix(in srgb, var(--primary) 12%, transparent) !important; }

/* Tema negro: control y panel de 'Tipo de documento' */
:root.theme-black body .doc-type-control.p-dropdown {
  background: var(--surface) !important;
  color: var(--text) !important;
  border: none !important;
  border-radius: 10px !important;
  box-shadow: inset 0 0 0 1px color-mix(in srgb, var(--border) 60%, transparent) !important;
}
:root.theme-black body .doc-type-control.p-dropdown:hover {
  background: color-mix(in srgb, var(--surface) 92%, var(--bg)) !important;
}
:root.theme-black body .doc-type-control.p-dropdown .p-dropdown-label { color: var(--text) !important; }
:root.theme-black body .doc-type-control.p-dropdown .p-dropdown-label.p-placeholder { color: color-mix(in srgb, var(--muted) 85%, white) !important; }

:root.theme-black body .p-dropdown-panel.doc-type-panel {
  background: var(--surface) !important;
  color: var(--text) !important;
  border: 1px solid var(--border) !important;
  box-shadow: 0 12px 28px rgba(0,0,0,0.35), 0 6px 12px rgba(79,140,255,0.10) !important;
}
:root.theme-black body .p-dropdown-panel.doc-type-panel .p-dropdown-items { background: transparent !important; }
:root.theme-black body .p-dropdown-panel.doc-type-panel .p-dropdown-item { color: var(--text) !important; border-radius: 8px; background: transparent !important; }
:root.theme-black body .p-dropdown-panel.doc-type-panel .p-dropdown-item.p-highlight {
  background: color-mix(in srgb, var(--primary) 18%, transparent) !important;
  color: var(--text) !important;
}
:root.theme-black body .p-dropdown-panel.doc-type-panel .p-dropdown-item:not(.p-highlight):hover {
  background: color-mix(in srgb, var(--primary) 12%, transparent) !important;
}
/* Compatibilidad con p-select-panel si se usa */
:root.theme-black body .p-select-panel.doc-type-panel {
  background: var(--surface) !important; color: var(--text) !important; border: 1px solid var(--border) !important;
}
:root.theme-black body .p-select-panel.doc-type-panel .p-select-item { color: var(--text) !important; border-radius: 8px; }
:root.theme-black body .p-select-panel.doc-type-panel .p-select-item.p-highlight { background: color-mix(in srgb, var(--primary) 18%, transparent) !important; color: var(--text) !important; }
:root.theme-black body .p-select-panel.doc-type-panel .p-select-item:not(.p-highlight):hover { background: color-mix(in srgb, var(--primary) 12%, transparent) !important; }

/* Tema claro: tablas PrimeNG (p-table / p-datatable) con fondo blanco y texto negro */
:root.theme-light body .p-datatable-wrapper table,
:root.theme-light body .p-table table {
  background: #ffffff !important;
  color: #000 !important;
}
:root.theme-light body .p-datatable-thead > tr > th,
:root.theme-light body .p-table-thead > tr > th,
:root.theme-light body .p-datatable .p-datatable-thead > tr > th {
  background: color-mix(in srgb, var(--surface) 96%, var(--primary) 4%) !important;
  color: #000 !important;
  border-bottom: 1px solid var(--border) !important;
  font-weight: 700 !important;
}
:root.theme-light body .p-datatable-tbody > tr > td,
:root.theme-light body .p-table-tbody > tr > td,
:root.theme-light body .p-datatable .p-datatable-tbody > tr > td {
  background: #ffffff !important;
  color: #000 !important;
  border-top: 1px solid var(--border) !important;
}
:root.theme-light body .p-datatable .p-datatable-footer,
:root.theme-light body .p-datatable .p-datatable-header,
:root.theme-light body .p-table .p-datatable-footer,
:root.theme-light body .p-table .p-datatable-header {
  background: #ffffff !important;
  color: #000 !important;
  border-color: var(--border) !important;
}
:root.theme-light body .p-paginator {
  background: #ffffff !important;
  color: #000 !important;
  border-top: 1px solid var(--border) !important;
}
:root.theme-light body .p-paginator .p-paginator-page,
:root.theme-light body .p-paginator .p-paginator-next,
:root.theme-light body .p-paginator .p-paginator-prev,
:root.theme-light body .p-paginator .p-paginator-first,
:root.theme-light body .p-paginator .p-paginator-last {
  color: #000 !important;
}
:root.theme-light body .p-paginator .p-highlight {
  background: color-mix(in srgb, var(--primary) 12%, transparent) !important;
  color: #000 !important;
}

/* Ajuste de hover de fila para tema claro (más suave) */
:root.theme-light body .p-datatable-wrapper table tbody tr:hover,
:root.theme-light body .p-table table tbody tr:hover {
  background: color-mix(in srgb, var(--primary) 8%, #ffffff) !important;
}

/* Tema claro: Sidebar (formularios editar/nuevo) y diálogos con fondo blanco */
:root.theme-light body .p-sidebar {
  background: #ffffff !important;
  color: #000 !important;
  border-left: 1px solid var(--border) !important;
}
:root.theme-light body .p-sidebar .p-sidebar-header,
:root.theme-light body .p-sidebar .p-sidebar-content {
  background: #ffffff !important;
  color: #000 !important;
}
:root.theme-light body .p-sidebar .p-button.p-button-text { color: #000 !important; }

/* Tema claro: p-dialog y confirmDialog */
:root.theme-light body .p-dialog,
:root.theme-light body .p-confirm-dialog {
  background: #ffffff !important;
  color: #000 !important;
}
:root.theme-light body .p-dialog .p-dialog-header,
:root.theme-light body .p-dialog .p-dialog-content,
:root.theme-light body .p-dialog .p-dialog-footer,
:root.theme-light body .p-confirm-dialog .p-dialog-header,
:root.theme-light body .p-confirm-dialog .p-dialog-content,
:root.theme-light body .p-confirm-dialog .p-dialog-footer {
  background: #ffffff !important;
  color: #000 !important;
}

/* Reforzar panel de dropdown dentro del sidebar en tema claro */
:root.theme-light body .p-sidebar ~ .p-dropdown-panel,
:root.theme-light body .p-dropdown-panel { /* overlay global */
  background: #ffffff !important;
  color: #000 !important;
}

/* Refuerzo extra: sidebars de edición blancos en tema claro dentro de componentes admin */
:root.theme-light app-parametros .p-sidebar,
:root.theme-light app_parametros .p-sidebar .p-sidebar-header,
:root.theme-light app_parametros .p-sidebar .p-sidebar-content,
:root.theme-light app-param-config .p-sidebar,
:root.theme-light app-param-config .p-sidebar .p-sidebar-header,
:root.theme-light app-param-config .p-sidebar .p-sidebar-content {
  background: #ffffff !important;
  color: #000 !important;
}

/* Tema claro: forzar sidebars marcados como light-sidebar a blanco absoluto */
:root.theme-light body .p-sidebar.light-sidebar,
:root.theme-light body .p-sidebar.light-sidebar .p-sidebar-header,
:root.theme-light body .p-sidebar.light-sidebar .p-sidebar-content {
  background: #ffffff !important;
  color: #000000 !important;
}
:root.theme-light body .p-sidebar.light-sidebar .p-button.p-button-text { color: #000000 !important; }
:root.theme-light body .p-sidebar.light-sidebar .form-field label { color: #000000 !important; }
:root.theme-light body .p-sidebar.light-sidebar .p-inputtext,
:root.theme-light body .p-sidebar.light-sidebar input,
:root.theme-light body .p-sidebar.light-sidebar .p-dropdown .p-dropdown-label {
  color: #000000 !important;
}
:root.theme-light body .p-sidebar.light-sidebar .p-inputtext::placeholder,
:root.theme-light body .p-sidebar.light-sidebar input::placeholder {
  color: #4b5563 !important;
}

